# 🎉 CSV UTF-8-sig Auto Converter

**Excel에서 한글이 깨지는 문제를 완전히 해결해주는 Chrome Extension**

CSV 파일 다운로드 시 자동으로 새 탭이 열리고, UTF-8-sig 인코딩으로 변환하여 Excel에서 한글이 정상 표시되도록 도와주는 확장 프로그램입니다.

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![Chrome](https://img.shields.io/badge/Chrome-88+-green.svg)
![License](https://img.shields.io/badge/license-MIT-brightgreen.svg)

## ✨ 주요 기능

### 🚀 **완전 자동화 워크플로우**
- CSV 파일 다운로드 **완료 시** 새 탭 자동 생성
- 최근 다운로드 파일 자동 감지 및 준비
- 원클릭 변환으로 UTF-8-sig 파일 생성

### 🎨 **아름다운 사용자 인터페이스**
- **듀얼 인터페이스**: 아이콘 클릭 팝업 & 전체 화면 변환기
- 900px 와이드 스크린으로 편안한 작업
- 그라데이션 배경과 모던한 카드 디자인
- 부드러운 애니메이션과 시각적 피드백

### ⚙️ **스마트한 기능들**
- **도메인 화이트리스트**: 특정 사이트에서만 자동 실행
  - 서브도메인 포함/제외 옵션
  - 주석 기능 지원 (`#`)
  - IP 주소 지원
- **드래그 앤 드롭** 지원으로 편리한 파일 선택
- **인코딩 자동 감지**: 이미 UTF-8-sig면 스킵 메시지 표시
- **중복 변환 방지**: `_utf8sig_utf8sig` 같은 중복 접미사 방지
- **영구 설정 저장**: 브라우저 종료 후에도 설정 유지 (Chrome Sync)

## 🎯 사용법

### **완전 자동 사용**
1. **확장 프로그램 설치**
2. **웹사이트에서 CSV 파일 다운로드**
3. **🎉 새 탭 자동 열림!**
4. **자동으로 준비된 파일 확인** (노란색 알림)
5. **"✨ UTF-8-sig로 변환하기" 버튼 클릭**
6. **완료!** `파일명_utf8sig.csv` 생성

### **아이콘 팝업 사용**
1. **브라우저 툴바의 확장 프로그램 아이콘 클릭**
2. **미니 팝업에서 빠른 설정 변경**
3. **"변환기 열기" 버튼으로 전체 화면 전환**

### **수동 사용 (기존 파일)**
1. 확장 프로그램 아이콘 → "변환기 열기" 클릭
2. 기존 CSV 파일을 드래그 앤 드롭 또는 클릭하여 선택
3. 변환 버튼 클릭

## 🔧 설치 방법

### **Chrome Web Store에서 설치 (권장)**
1. [Chrome Web Store 링크](준비중) 접속
2. "Chrome에 추가" 버튼 클릭
3. 설치 완료!

### **개발자 모드로 설치**
1. **파일 다운로드**
   ```
   csv-utf8sig-converter/
   ├── manifest.json
   ├── background.js
   ├── popup.html          # 전체 화면 변환기
   ├── popup.js
   ├── popup-icon.html     # 아이콘 클릭 팝업
   ├── popup-icon.js
   └── icons/
       ├── icon16.png
       ├── icon48.png
       └── icon128.png
   ```

2. **Chrome 확장 프로그램 로드**
   - `chrome://extensions/` 접속
   - 우상단 "개발자 모드" 활성화
   - "압축해제된 확장 프로그램을 로드합니다" 클릭
   - 다운로드한 폴더 선택

## 💡 왜 필요한가요?

### **문제**: Excel에서 한글이 깨짐
```
김철수,이영희,박민수  →  ÊÉÄ Ã¶¼ö,ÀÌ¿µÈñ,¹Ú¹Î¼ö
```

### **해결**: UTF-8-sig로 변환
```
김철수,이영희,박민수  →  김철수,이영희,박민수 ✅
```

**UTF-8-sig**는 Excel이 이해할 수 있는 BOM(Byte Order Mark)이 포함된 UTF-8 형식입니다.

## 🎨 주요 인터페이스

### **아이콘 클릭 팝업 (320px)**
- 최근 다운로드 파일 정보 (30분 이내)
- 빠른 설정 토글
- 변환기 열기 버튼
- 현재 상태 표시

### **전체 화면 변환기 (900px)**
- 도메인 화이트리스트 설정
- 상세 설정 옵션
- 드래그 앤 드롭 파일 변환
- 변환 상태 메시지

## ⚙️ 설정 옵션

| 설정 | 설명 | 기본값 |
|------|------|--------|
| **CSV 다운로드 완료 시 새 탭 자동 생성** | CSV 파일 다운로드 시 자동으로 변환 탭 열기 | ✅ 켜짐 |
| **변환 완료 알림 표시** | 변환 완료 시 Chrome 알림 표시 | ❌ 꺼짐 |
| **서브도메인 자동 포함** | 화이트리스트 도메인의 서브도메인도 포함 | ✅ 켜짐 |
| **도메인 화이트리스트** | 특정 도메인에서만 자동 실행 (비어있으면 모든 사이트) | 비어있음 |

### **도메인 화이트리스트 예시**
```
# 구글 관련 사이트
google.com
drive.google.com  # 구글 드라이브

# 국내 포털
naver.com
daum.net

# 개발 관련
github.com
gitlab.com  # 깃랩 서비스

# IP 주소도 가능
192.168.1.100  # 내부 서버
```

## 🔍 지원하는 파일

- ✅ **CSV 파일** (`.csv`)
- ✅ **모든 텍스트 인코딩** (UTF-8, EUC-KR, CP949 등)
- ✅ **대용량 파일** (100MB까지 테스트 완료)

## 🌏 지원 언어

- 🇰🇷 **한국어** (한글)
- 🇨🇳 **중국어** (간체/번체)
- 🇯🇵 **일본어** (히라가나/가타카나/한자)
- 🌍 **기타 유니코드 문자**

## 🚀 기술 사양

- **Manifest Version**: 3 (최신 표준)
- **최소 Chrome 버전**: 88+
- **권한**: Downloads, Storage, Notifications, Tabs
- **지원 OS**: Windows, macOS, Linux
- **저장소**: Chrome Storage Sync API (설정 동기화)

## 🛠️ 개발자 정보

### **사용된 기술**
- Vanilla JavaScript (외부 라이브러리 없음)
- Chrome Extension APIs (Manifest V3)
- Modern CSS (Grid, Flexbox, Gradients)
- Chrome Storage Sync API

### **아키텍처**
```
Background Script → 다운로드 감지 → 도메인 확인 → 새 탭 생성 → 변환 인터페이스
                                          ↓
                                   화이트리스트 체크
```

### **파일 구조**
- `background.js`: 서비스 워커, 다운로드 감지 및 탭 관리
- `popup-icon.html/js`: 아이콘 클릭 시 표시되는 미니 팝업
- `popup.html/js`: 전체 화면 변환기 인터페이스
- `manifest.json`: 확장 프로그램 설정 및 권한

## 📈 로드맵

### **v1.1 (예정)**
- [ ] 배치 변환 (여러 파일 한번에)
- [ ] 다른 인코딩 옵션 (UTF-16, EUC-KR 등)
- [ ] 변환 기록 저장
- [ ] 파일 미리보기 기능

### **v1.2 (예정)**
- [ ] 다국어 인터페이스 (영어, 중국어, 일본어)
- [ ] 테마 선택 (다크 모드)
- [ ] 고급 필터링 옵션 (정규식 지원)

## 🤝 기여하기

이 프로젝트는 오픈소스입니다! 기여를 환영합니다.

### **버그 리포트**
1. [Issues](준비중) 페이지에서 새 이슈 생성
2. 문제 상황과 재현 단계 상세히 기술
3. 사용 중인 Chrome 버전과 OS 정보 포함

### **기능 제안**
- 실용적이고 많은 사용자에게 도움이 될 기능
- Chrome Extension 정책에 위배되지 않는 기능

### **코드 기여**
1. Fork 후 feature 브랜치 생성
2. 코드 작성 및 테스트
3. Pull Request 제출

## 📄 라이선스

**MIT License** - 자유롭게 사용, 수정, 배포 가능

```
Copyright (c) 2025 Your Name <your.email@example.com>
```

## 🙋‍♂️ FAQ

### **Q: 변환된 파일이 여전히 깨져 보여요**
A: Excel에서 파일을 열 때 "데이터 → 텍스트 나누기" 대신 "파일 → 열기"를 사용하세요.

### **Q: 원본 파일이 삭제되나요?**
A: 아니요. 원본은 그대로 두고 새로운 `_utf8sig.csv` 파일을 생성합니다.

### **Q: 대용량 파일도 지원하나요?**
A: 네, 100MB까지 테스트했으며 브라우저 메모리가 허용하는 한 처리 가능합니다.

### **Q: 특정 사이트에서만 작동하게 할 수 있나요?**
A: 네, 도메인 화이트리스트 기능으로 특정 사이트에서만 자동 실행되도록 설정할 수 있습니다.

### **Q: 설정이 초기화되나요?**
A: 아니요, Chrome Storage Sync API를 사용하여 브라우저를 종료해도 설정이 유지되며, Google 계정으로 동기화됩니다.

### **Q: 이미 UTF-8-sig인 파일을 변환하면?**
A: 자동으로 감지하여 "이미 UTF-8-sig 형식입니다!" 메시지를 표시하고 변환을 건너뜁니다.

### **Q: 다른 브라우저에서도 작동하나요?**
A: 현재는 Chrome 전용입니다. Edge, Brave 등 Chromium 기반 브라우저에서는 작동할 수 있습니다.

---

**🎉 이제 Excel에서 한글이 깨지는 문제에서 완전히 해방되세요!**

⭐ 도움이 되셨다면 GitHub Star를 눌러주세요!
🐛 문제가 있다면 Issues에 남겨주세요!
💡 개선 아이디어가 있다면 언제든 제안해주세요!